<ng-form name="_form_{{$component.name}}">
    <md-card class="search-card" layout="row">
        <md-input-container md-no-float style="margin: 0;" md-is-error="$component.model.$invalid && $component.model.$touched" layout-margin flex>
            <input type="text"
                   placeholder="{{$component.label}}"

                   name="{{ $component.name }}"
                   id="{{ $component.name }}"

                   ng-model="$component.value"
                   ng-change="$component.onChange()"
                   ng-model-options="{allowInvalid: true, debounce: 250}"

                   ng-required="$component.isRequired"
                   ng-disabled="$component.isDisabled"

                   ng-minlength="$component.minLength"
                   ng-maxlength="$component.maxLength"

                   md-maxlength="$component.maxLength"

                   maxlength="{{$component.maxLength }}"
                   ng-focus="$component.isDisabled || $component.model.$setTouched()"
                   ng-click="$component.isDisabled || $component.model.$setTouched()">
            <div ng-messages="$component.model.$error" ng-show="$component.model.$dirty || $component.model.$touched" >
                <ng-transclude></ng-transclude>
            </div>
        </md-input-container>
        <md-button ng-if="($component.value == '' || $component.value == null)" class="md-icon-button" aria-label="search" ng-disabled="$component.isDisabled">
            <md-icon  class="material-icons" >search</md-icon>
        </md-button>
        <md-button  ng-if="!($component.value == '' || $component.value == null)" ng-click="$component.clean()" class="md-icon-button" aria-label="close" ng-disabled="$component.isDisabled">
            <md-icon  class="material-icons" >close</md-icon>
        </md-button>
    </md-card>
</ng-form>