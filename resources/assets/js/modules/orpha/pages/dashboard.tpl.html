<md-card md-whiteframe="7" ng-cloak layout="column">

    <md-toolbar>
        <div class="md-toolbar-tools" layout="row">
            <h2 md-truncate>
                <md-icon class="material-icons">dashboard</md-icon>
                <span>Dashboard</span>
            </h2>
            <span flex></span>
            <md-button class="md-icon-button md-raised md-accent" ng-disabled="$controller.loading" ng-click="$controller.refresh()">
                <md-icon class="material-icons">refresh</md-icon>
                <md-tooltip md-direction="top">
                    Atualizar
                </md-tooltip>
            </md-button>
        </div>
    </md-toolbar>

    <md-card-content layout-padding layout-margin>

        <div ng-show="$controller.loading" layout="row" layout-sm="column" layout-align="center center">
            <md-progress-circular md-indetermied class="md-accent" md-diameter="96"></md-progress-circular>
        </div>

        <div ng-show="!$controller.loading" layout="column">

            <div layout="row">

                <!--Usuários -->
                <md-card flex-xs="100" flex-gt-xs="45" md-whiteframe="5">
                    <md-card-header>
                        <md-card-avatar>
                            <div class="md-avatar-icon material-icons md-dark" style="font-size: 48px;">account_circle</div>
                        </md-card-avatar>
                        <md-card-header-text>
                            <span class="md-title">Usuários</span>
                            <span class="md-subhead">Total: {{$controller.usersByCategoriesChart.total}}</span>
                        </md-card-header-text>
                        <span flex></span>
                        <md-button class="md-icon-button" aria-label="More">
                            <md-icon class="material-icons">more_vert</md-icon>
                        </md-button>
                    </md-card-header>
                    <md-divider></md-divider>
                    <md-content class="md-card-content">
                        <canvas id="pie" class="chart chart-pie"
                                chart-data="$controller.usersByCategoriesChart.data"
                                chart-labels="$controller.usersByCategoriesChart.labels"
                                chart-options="$controller.usersByCategoriesChart.options"></canvas>
                    </md-content>
                </md-card>

                <!--Crianças -->
                <md-card flex-xs="100" flex-gt-xs="45" md-whiteframe="5">
                    <md-card-header>
                        <md-card-avatar>
                            <div class="md-avatar-icon material-icons md-dark" style="font-size: 48px;">face</div>
                        </md-card-avatar>
                        <md-card-header-text flex="auto">
                            <span class="md-title">Crianças / Adolescentes</span>
                            <span class="md-subhead">Total: {{$controller.criancasByCategoriesChart.total}}</span>
                        </md-card-header-text>
                        <span flex></span>
                        <md-button class="md-icon-button" aria-label="More">
                            <md-icon class="material-icons">more_vert</md-icon>
                        </md-button>
                    </md-card-header>
                    <md-divider></md-divider>
                    <md-card-content layout="row" layout-align="center">
                        <canvas class="chart chart-pie" chart-data="$controller.criancasByCategoriesChart.data" chart-labels="$controller.criancasByCategoriesChart.labels" chart-options="$controller.criancasByCategoriesChart.options"></canvas>
                    </md-card-content>
                </md-card>

            </div>

            <div layout="row" layout-align="center center" >

                <!-- Crianças Média Idades -->
                <md-card class="chart-card" flex-xs="100" flex-gt-xs="95" md-whiteframe="5">
                    <md-card-header>
                        <md-card-avatar>
                            <div class="md-avatar-icon material-icons md-dark" style="font-size: 48px;">face</div>
                        </md-card-avatar>
                        <md-card-header-text flex="auto">
                            <span class="md-title">Crianças / Adolescentes</span>
                            <span class="md-subhead">Descrição</span>
                        </md-card-header-text>
                        <span flex></span>
                        <md-button class="md-icon-button" aria-label="More">
                            <md-icon class="material-icons">more_vert</md-icon>
                        </md-button>
                    </md-card-header>
                    <md-divider></md-divider>
                    <md-card-content layout="row" layout-align="center">
                        <canvas
                                chart-colors="$controller.colors"
                                id="bar"
                                class="chart chart-bar"
                                chart-data="$controller.criancasByAgeChart.data"
                                chart-labels="$controller.criancasByAgeChart.labels"
                                chart-dataset-override="$controller.criancasByAgeChart.override"
                                chart-options="$controller.criancasByAgeChart.options" ></canvas>
                    </md-card-content>
                </md-card>

            </div>

        </div>

    </md-card-content>

</md-card>